{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link type = "text/css" href='{% static "css/index.css" %}' rel='stylesheet'/> <!- se importa el css ->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %} Candidatos  {% endblock title %}  </title>
</head>
<body>
    <h1>twiteros.com</h1>
    
    <div class="fondo">
        <div class="info">
            <div class="containerFotos">
                {% block content %}
                <img class="candidato" src="{% static "imagenes/bolivar.jpg" %}" alt="bolivar">
                <img class="candidato" src="{% static "imagenes/galan.webp" %}" alt="galan">
                <img class="candidato" src="{% static "imagenes/molano.webp" %}" alt="molano">
                <img class="candidato" src="{% static "imagenes/robledo.webp" %}" alt="robledo">
                <img class="candidato" src="{% static "imagenes/vargas.webp" %}" alt="vargas">
                <img class="candidato" src="{% static "imagenes/oviedo.webp" %}" alt="oviedo">
                <img class="candidato" src="{% static "imagenes/lara.webp" %}" alt="lara">
                {% endblock content %}
            </div>
            <div class="data">
            {% for candidato in candidatos %}
                <div class="containerLabels" id="{{ candidato.nombre|lower }}">
                    <h6>Nombre: {{ candidato.nombre }}</h6>
                    <h6>Seguidores: {{ candidato.seguidores }}</h6>
                    <h6>Favoritos: {{ candidato.favoritos }}</h6>
                    <h6>Listados: {{ candidato.numero_listas }}</h6>
                </div>
            {% endfor %}                                                                                                                                                   
            </div>
        </div>
        <div class="containerGrafica">
            <canvas id="myChart" width="700" height="700"></canvas>
            <script>
                var ctx = document.getElementById('myChart').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [{% for candidato in candidatos %}'{{ candidato.nombre }}'{% if not forloop.last %}, {% endif %}{% endfor %}],
                        datasets: [{
                            label: '% de Seguidores',
                            data: [{% for candidato in candidatos %}{{ candidato.p_seguidores }}{% if not forloop.last %}, {% endif %}{% endfor %}],
                            backgroundColor: 'rgba(75, 192, 192, 0.2)',
                            borderColor: 'rgba(75, 192, 192, 1)',
                            borderWidth: 1
                        },
                        {
                            label: '% de Favoritos',
                            data: [{% for candidato in candidatos %}{{ candidato.p_favoritos }}{% if not forloop.last %}, {% endif %}{% endfor %}],
                            backgroundColor: 'rgba(153, 102, 255, 0.2)',
                            borderColor: 'rgba(153, 102, 255, 1)',
                            borderWidth: 1
                        },
                        {
                            label: '% de Listados',
                            data: [{% for candidato in candidatos %}{{ candidato.p_listas }}{% if not forloop.last %}, {% endif %}{% endfor %}],
                            backgroundColor: 'rgba(255, 159, 64, 0.2)',
                            borderColor: 'rgba(255, 159, 64, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            </script>
        </div>
    </div>
    <script type="text/javascript" src='{% static "js/index.js" %}'></script> 
    <!- solo por probar, se importa el css y en el archivo index.js le digo que imprima en consola web que se ha cargado ->
</body>
</html>